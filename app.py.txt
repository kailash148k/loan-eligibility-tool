import streamlit as st
import pandas as pd
from datetime import date

Basic Page Config
st.set_page_config(page_title="CA Kailash Mali - Loan Master", layout="wide")

App Header
st.title("‚öñÔ∏è Rajasthan MSME Subsidy Comparison Tool")
st.subheader("Professional Loan Eligibility Calculator")

Part 6: Applicant Details (Simplified for Testing)
st.header("1. Applicant Details")
name = st.text_input("Primary Applicant Name")
if name:
st.write(f"Processing data for: {name}")

Part 1: Cash Profit Structure
st.header("2. Cash Profit Calculation")
col1, col2 = st.columns(2)
with col1:
npbt = st.number_input("Net Profit Before Tax (NPBT)", value=0.0)
dep = st.number_input("Depreciation", value=0.0)
with col2:
restrict_dep = st.checkbox("Restrict Depreciation to 100% of NPBT")

Logic for Depreciation Add-back
if restrict_dep:
final_dep = min(dep, max(0.0, npbt))
else:
final_dep = dep

cash_profit = npbt + final_dep
st.success(f"Calculated Cash Profit: ‚Çπ{cash_profit:,.2f}")

Sidebar Info
st.sidebar.markdown("### Developed for:")
st.sidebar.markdown("CA KAILASH MALI")
st.sidebar.markdown("üìû 7737306376")
st.sidebar.markdown("üìç Udaipur, Rajasthan")
